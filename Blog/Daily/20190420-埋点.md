# 20190420 小记

部分摘录引用自：
- [知乎-大头鱼](https://www.zhihu.com/question/36411025/answer/147581103)
- [知乎-易小A](https://www.zhihu.com/question/36411025/answer/385922794)
- [前端埋点和后端埋点，哪个更科学？-神策-张乔](http://www.woshipm.com/data-analysis/665420.html)

## 埋点

### 什么是数据埋点

&emsp;&emsp;所谓埋点就是在应用中特定的流程收集一些信息，用来跟踪应用使用的状况，后续用来进一步优化产品或是提供运营的数据支撑，包括访问数（Visits），访客数（Visitor），停留时长（Time On Site），页面浏览数（Page Views）和跳出率（Bounce Rate）。这样的信息收集可以大致分为两种：页面统计（track this virtual page view），统计操作行为（track this button by an event）。

&emsp;&emsp;现在埋点的主流有两种方式：

- 第一种：自己公司研发在产品中注入代码统计，并搭建起相应的后台查询。
- 第二种：第三方统计工具，如友盟、神策、Talkingdata、GrowingIO等。

&emsp;&emsp;埋点方式：

- 客户端埋点
  - 1、代码埋点：部署SDK后在需要采集的地方让技术添加代码，应用启动的时会初始化SDK，用户所有操作行为会调用SDK的相应数据接口然后把数据发送服务端（数据库）。      
    - 优点：数据准确性高，自定义程度高；      
    - 缺点：工作量大，投入人力物力比较大；市面上产品有：GA（google analytics）、友盟、TalkingData


  - 2、可视化埋点：无须进行添加代码，只需在相应应用界面追加事件数据点即可。核心代码与资源配置器分开，当启动应用时从服务端更新配置和资源，应用根据新的配置和资源发送数据。      
    - 优点：操作简单方便      
    - 缺点：不灵活，存在部分数据死角，同时每次启动加载服务端配置资源，消耗资源市面上产品有：诸葛IO、神策


  - 3、无埋点：并不是说不要埋点，而是SDk利用css选择器技术和监听控件的事件触发技术，在应用嵌入SDK，SDK会把用户的行为数据尽可能的采集下来。     
    - 优点：部署简单、收集数据多     
    - 缺点：不灵活数据属性，脏数据较多，同时网络传输压力大，消耗资源多市面上产品有：Heap Analyitcs、Growing IO


- 服务端埋点
  - 在后端将数据通过协议的方式传送，例如：MP协议、日志等。数据定义、采集工作量大，不太提倡这个，用此来埋点相当于开发一个工具框架，工作量太大，而且耗费人力物力。


&emsp;&emsp;前后端埋点需求区分

- 适合前端埋点的企业业务需求

    一般而言，以全埋点（无埋点）为典型代表的前端埋点方案，适合有以下需求的企业。

  - 1、处于运营初级阶段，产品功能相对简单
  - 2、需要分析与后端没有交互的前端行为

- 强烈建议后端埋点的业务需求

    除了支持“前端埋点”（全埋点）方式，神策数据为保证数据采集做到“大、全、细、时”，更推荐“后端埋点”：当前后端都可以实现数据采集时，应优先考虑后端（代码）埋点，尤其在各行业中有特殊业务需求的数据，更是强烈建议通过后端（代码）埋点方式采集。总的来说，后端（代码）埋点，或者“后端（代码）埋点+全埋点”方案，适合有以下需求的企业。

  - 1、追求精细化运营，需要进行多维数据分析的企业
  - 2、包含用户资产数据、用户账户体系相关数据、风控辅助数据等重要业务数据的网站或APP的企业
  - 3、对数据安全要求比较高的企业

![图1 适合“前端全埋点”的企业需求与适合“后端代码埋点”的企业需求（图片来源：神策数据产品）](http://image.woshipm.com/wp-files/2017/05/uEmxuRgjrz6PdCXKIwIn.png)

